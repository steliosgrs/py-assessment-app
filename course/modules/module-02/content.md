# Κεφάλαιο 2: Βασικές Αρχές Python / Δομές Ελέγχου / Επαναλήψεις

## Στόχοι Κεφαλαίου 🎯

- Δημιουργία, προσπέλαση και τροποποίηση λιστών (lists).
- Χρήση λιστών για την αποθήκευση και επεξεργασία πολλαπλών τιμών.
- Κατανόηση των dictionaries και πώς αποθηκεύουν δεδομένα με κλειδιά και τιμές.
- Χρήση list comprehension και dictionary comprehension για σύντομο και αποδοτικό κώδικα.

## 2.1 Εισαγωγή στην Python

Η Python είναι μια εύκολη γλώσσα προγραμματισμού, γιατί σχεδιάστηκε με έμφαση στην αναγνωσιμότητα του κώδικα.
Είναι ιδανική για μεταπτυχιακούς φοιτητές, ερευνητές από οποιονδήποτε κλάδο (Ιατρική, Χημικούς Μηχανικούς, Οικονομολόγους, κ.α) επειδή επιτρέπει να εστιάσετε στα προβλήματα της έρευνάς σας αντί να ασχολείστε με περίπλοκες έννοιες ή συντακτικές λεπτομέρειες.

### 1.1.1 Το Πρώτο σας Πρόγραμμα

Ας ξεκινήσουμε με ένα απλό πρόγραμμα:

```python
print("Καλώς ήρθατε στον κόσμο της Python!")
```

Το παραπάνω πρόγραμμα θα εμφανίσει στην οθόνη:

```
Καλώς ήρθατε στον κόσμο της Python!
```

:::info Print
Η εμφάνιση ενός μηνύματος μπορεί να γίνει, είτε με τα διπλά εισαγωγικά (double quotes) `"`, είτε με τα μονά `'`.
:::

## 1.2 Μεταβλητές και Τύποι Δεδομένων

Οι μεταβλητές είναι ο τρόπος εμείς οι άνθρωποι να αποηθεκεύουμε δεδομένα στον υπολογιστή.
Σε αντίθεση με άλλες γλώσσες, δε χρειάζεται να δηλώσετε τον τύπο της μεταβλητής εκ των προτέρων!

### 1.2.1 Βασικοί Τύποι Δεδομένων

Παρακάτω παρουσιάζονται οι βασικοί τύποι δεδομέων (**data types**) της γλώσσας.

Με το σύμβολο της δίεσης `#` δηλώνουμε τα σχόλια (**comments**) στο πρόγραμμα μας, τα οποία αγνοούνται κατά την εκτέλεση.

```python
# Βασικοί τύποι μεταβλητών
patient_name = "Γιώργος Παπαδόπουλος"    # string (συμβολοσειρά)
patient_age = 45                         # integer (ακέραιος)
temperature = 36.6                       # float (δεκαδικός)
is_vaccinated = True                     # boolean (λογική τιμή)

# Εκτύπωση των δεδομένων του ασθενή
print(f"Όνομα Ασθενή: {patient_name}")
print(f"Ηλικία: {patient_age}")
print(f"Θερμοκρασία: {temperature}°C")
print(f"Εμβολιασμένος: {is_vaccinated}")
```

### Άσκηση

`id=pyds_exer_01_datatypes
name="Data Types"`

Με βάση το παραπάνω παράδειγμα προσθέστε τιμές στις μεταβλητές και στην συνέχεια εφμανήστε τις στην οθόνη.

```python
# Δεδομένα μέτρησης γλυκόζης
measurement_time =
glucose_level =
fasting_status =
patient_id =

# Εκτύπωση αναφοράς μέτρησης
print("=== Αναφορά Μέτρησης Γλυκόζης ===")
```

:::info 💡Naming Convention
Πρακτική Συμβουλή: Τα ονόματα των μεταβλητών πρέπει να είναι περιγραφτικά. Το `x = 95.5` δεν λέει πολλά, ενώ το `glucose_level = 95.5` είναι αυτό-επεξηγηματικό.
:::

### 1.2.2 Βασικές Πράξεις

```python
# Βασικές αριθμητικές πράξεις
height = 25.0
width = 15.0

total = height + width      # Πρόσθεση
difference = height - width # Αφαίρεση
product = height * width    # Πολλαπλασιασμός
ratio = height / width      # Διαίρεση

print(f"Συνολική Συγκέντρωση: {total}")
print(f"Διαφορά: {difference}")
print(f"Γινόμενο: {product}")
print(f"Λόγος: {ratio}")
```

## 1.3 Είσοδος και Έξοδος

### 1.3.1 Λήψη Δεδομένων από το Χρήστη

```python
# Είσοδος από το χρήστη
όνομα_ερευνητή = input("Εισάγετε το όνομά σας: ")
ηλικία_str = input("Εισάγετε την ηλικία του ασθενή: ")
ηλικία = int(ηλικία_str)  # Μετατροπή string σε ακέραιο

θερμοκρασία_str = input("Εισάγετε τη θερμοκρασία (°C): ")
θερμοκρασία = float(θερμοκρασία_str)  # Μετατροπή string σε float

print(f"Ο ερευνητής {όνομα_ερευνητή} κατέγραψε ότι ο ασθενής ηλικίας {ηλικία} ετών έχει θερμοκρασία {θερμοκρασία}°C")
```

> ⚠️ **Προσοχή:** Η συνάρτηση `input()` επιστρέφει πάντα συμβολοσειρά (string).
> Αν χρειάζεστε αριθμό, πρέπει να μετατρέψετε την είσοδο χρησιμοποιώντας τις συναρτήσεις `int()` ή `float()`.

**Παράδειγμα από την έρευνα:** Σε μια κλινική μελέτη, μπορείτε να χρησιμοποιήσετε την `input()` για να εισάγετε δεδομένα ασθενών όπως ηλικία, βάρος, ή αποτελέσματα εξετάσεων.

### 1.3.2 Μορφοποίηση Εξόδου

```python
# Βασική μορφοποίηση με f-strings
όνομα_φαρμάκου = "Παρακεταμόλη"
δοσολογία = 500
μονάδα = "mg"

print(f"Συνταγογραφήθηκε {όνομα_φαρμάκου} {δοσολογία}{μονάδα}")

# Μορφοποίηση αριθμών
pi = 3.14159265359
print(f"Η τιμή του π με 2 δεκαδικά: {pi:.2f}")
print(f"Η τιμή του π με επιστημονική σημειογραφία: {pi:.2e}")

# Στοίχιση κειμένου
print(f"{'Ονοματεπώνυμο':<20}{'Ηλικία':>8}{'Θερμοκρασία':>15}")
print(f"{'-'*20}{'-'*8}{'-'*15}")
print(f"{'Γιάννης Αντωνίου':<20}{28:>8}{36.7:>15.1f}")
print(f"{'Μαρία Παπαδοπούλου':<20}{35:>8}{37.2:>15.1f}")
```

> 💡 **Συμβουλή:** Μην υποτιμάτε τη σημασία της καλά μορφοποιημένης εξόδου! Όταν αναλύετε μεγάλα σύνολα δεδομένων, η σωστή μορφοποίηση κάνει τα αποτελέσματά σας πιο ευανάγνωστα και βοηθά στην εντόπιση μοτίβων ή ανωμαλιών.

## 1.4 Δομές Ελέγχου (if-else)

Οι δομές ελέγχου επιτρέπουν στο πρόγραμμά σας να λαμβάνει αποφάσεις βάσει συνθηκών.

### 1.4.1 Η Δομή if-elif-else

```python
# Έλεγχος τιμής pH διαλύματος
ph = float(input("Εισάγετε την τιμή pH του διαλύματος: "))

if ph < 0 or ph > 14:
    print("Σφάλμα: Η τιμή pH πρέπει να είναι μεταξύ 0 και 14")
elif ph < 7:
    print("Το διάλυμα είναι όξινο")
    if ph < 3:
        print("Προσοχή: Ισχυρά όξινο διάλυμα!")
elif ph > 7:
    print("Το διάλυμα είναι βασικό")
    if ph > 11:
        print("Προσοχή: Ισχυρά βασικό διάλυμα!")
else:
    print("Το διάλυμα είναι ουδέτερο")
```

**Παράδειγμα από την έρευνα:** Σε μια βιοχημική ανάλυση, η δομή if-elif-else μπορεί να χρησιμοποιηθεί για να κατηγοριοποιήσετε δείγματα βάσει των τιμών pH, να εντοπίσετε ανωμαλίες, ή να προσαρμόσετε τα επόμενα βήματα του πειράματος ανάλογα με τα αποτελέσματα.

### 1.4.2 Σύνθετες Συνθήκες

```python
# Αξιολόγηση κλινικών παραμέτρων
θερμοκρασία = float(input("Θερμοκρασία σώματος (°C): "))
καρδιακός_ρυθμός = int(input("Καρδιακός ρυθμός (παλμοί/λεπτό): "))
συστολική_πίεση = int(input("Συστολική πίεση (mmHg): "))
διαστολική_πίεση = int(input("Διαστολική πίεση (mmHg): "))

είναι_πυρετός = θερμοκρασία > 37.5
είναι_ταχυκαρδία = καρδιακός_ρυθμός > 100
είναι_υπέρταση = συστολική_πίεση > 140 or διαστολική_πίεση > 90

if είναι_πυρετός and είναι_ταχυκαρδία:
    print("Πιθανή λοίμωξη - Απαιτείται περαιτέρω διερεύνηση")
    if είναι_υπέρταση:
        print("Προσοχή: Ο ασθενής παρουσιάζει επίσης υπέρταση")
elif είναι_πυρετός:
    print("Παρουσία πυρετού - Παρακολούθηση")
elif είναι_ταχυκαρδία:
    print("Παρουσία ταχυκαρδίας - Έλεγχος άγχους ή άλλων παραγόντων")
elif είναι_υπέρταση:
    print("Παρουσία υπέρτασης - Σύσταση για τακτικό έλεγχο")
else:
    print("Όλες οι παράμετροι εντός φυσιολογικών ορίων")
```

> 💡 **Συμβουλή:** Όταν δουλεύετε με πολύπλοκες συνθήκες, προσπαθήστε να αποθηκεύετε τις επιμέρους συνθήκες σε μεταβλητές με περιγραφικά ονόματα, όπως `είναι_πυρετός`.
> Αυτό κάνει τον κώδικά σας πιο ευανάγνωστο και πιο κοντά στον επιστημονικό τρόπο σκέψης.

## 1.5 Επαναλήψεις (Βρόχοι)

Οι βρόχοι επιτρέπουν την εκτέλεση του ίδιου κώδικα πολλές φορές, κάτι απαραίτητο για την επεξεργασία συνόλων δεδομένων.

### 1.5.1 Ο Βρόχος for

```python
# Υπολογισμός μέσου όρου θερμοκρασιών
θερμοκρασίες = [36.5, 36.7, 36.8, 36.6, 36.9, 37.0, 36.7]
άθροισμα = 0

for θερμοκρασία in θερμοκρασίες:
    άθροισμα += θερμοκρασία

μέσος_όρος = άθροισμα / len(θερμοκρασίες)
print(f"Μέσος όρος θερμοκρασίας: {μέσος_όρος:.2f}°C")

# Χρήση της συνάρτησης range()
print("Καταμέτρηση δειγμάτων:")
for i in range(1, 6):
    print(f"Επεξεργασία δείγματος #{i}")
```

**Παράδειγμα από την έρευνα:** Σε μια κλινική δοκιμή, μπορείτε να χρησιμοποιήσετε βρόχους για να υπολογίσετε μέσους όρους από μετρήσεις ασθενών, να επεξεργαστείτε πολλαπλά δείγματα, ή να εκτελέσετε την ίδια ανάλυση για διαφορετικές ομάδες ασθενών.

### 1.5.2 Ο Βρόχος while

```python
# Προσομοίωση πειράματος μέχρι να επιτευχθεί σταθερότητα
θερμοκρασία = 25.0  # αρχική θερμοκρασία σε °C
στόχος = 80.0  # θερμοκρασία-στόχος
ρυθμός_θέρμανσης = 2.5  # °C ανά λεπτό
χρόνος = 0  # λεπτά

print("Έναρξη θέρμανσης διαλύματος...")
print(f"{'Χρόνος (λεπτά)':<15}{'Θερμοκρασία (°C)':<20}")
print(f"{'-'*15}{'-'*20}")

while θερμοκρασία < στόχος:
    print(f"{χρόνος:<15}{θερμοκρασία:<20.2f}")
    θερμοκρασία += ρυθμός_θέρμανσης
    χρόνος += 1

    # Προσομοίωση επιβράδυνσης ρυθμού θέρμανσης
    if θερμοκρασία > 70:
        ρυθμός_θέρμανσης = 1.0

print(f"{χρόνος:<15}{θερμοκρασία:<20.2f}")
print(f"Ολοκλήρωση θέρμανσης μετά από {χρόνος} λεπτά")
```

> 😌 **Συναισθηματική συμβουλή:** Οι βρόχοι μπορεί να φαίνονται περίπλοκοι στην αρχή, ειδικά αν δεν έχετε προηγούμενη εμπειρία προγραμματισμού.
> Υπενθυμίστε στον εαυτό σας ότι είναι παρόμοιοι με τα επαναλαμβανόμενα πειράματα ή μετρήσεις που κάνετε στην έρευνά σας.
> Όπως μετράτε πολλαπλά δείγματα για να βρείτε ένα μέσο όρο στο εργαστήριο, έτσι και η Python επαναλαμβάνει εργασίες για εσάς αυτόματα!

### 1.5.3 Έλεγχος Βρόχων με break και continue

```python
# Αναζήτηση ανωμαλιών σε μετρήσεις γλυκόζης αίματος
τιμές_γλυκόζης = [95, 105, 85, 88, 240, 93, 101, 99, 84]
όριο_ανωμαλίας = 180

print("Έλεγχος τιμών γλυκόζης αίματος...")

for i, τιμή in enumerate(τιμές_γλυκόζης, 1):
    if τιμή < 70:
        print(f"ΠΡΟΣΟΧΗ: Υπογλυκαιμία στη μέτρηση #{i} (τιμή: {τιμή})")
        print("Απαιτείται άμεση παρέμβαση!")
        break  # Διακοπή της επανάληψης λόγω επείγουσας κατάστασης

    if τιμή > όριο_ανωμαλίας:
        print(f"ΠΡΟΕΙΔΟΠΟΙΗΣΗ: Υπεργλυκαιμία στη μέτρηση #{i} (τιμή: {τιμή})")
        continue  # Συνέχεια με την επόμενη μέτρηση

    print(f"Μέτρηση #{i}: {τιμή} mg/dL - εντός φυσιολογικών ορίων")

print("Ολοκλήρωση ελέγχου τιμών γλυκόζης")
```

**Παράδειγμα από την έρευνα:** Σε μια μελέτη παρακολούθησης ασθενών με διαβήτη, μπορείτε να χρησιμοποιήσετε βρόχους με `break` για να σταματήσετε την ανάλυση και να στείλετε ειδοποίηση όταν εντοπίζετε επικίνδυνες τιμές, και `continue` για να παραλείψετε τιμές που δεν χρειάζονται περαιτέρω ανάλυση.

### 1.5.4 Ένθετοι Βρόχοι

```python
# Ανάλυση δεδομένων από πολλαπλές ομάδες ασθενών
ομάδες = ["Ελέγχου", "Πειραματική Α", "Πειραματική Β"]
ημέρες = ["Δευτέρα", "Τετάρτη", "Παρασκευή"]

# Δισδιάστατος πίνακας με τιμές πίεσης (συστολική)
# [ομάδα][ημέρα]
τιμές_πίεσης = [
    [120, 118, 122],  # Ομάδα Ελέγχου
    [125, 122, 119],  # Πειραματική Α
    [115, 112, 110]   # Πειραματική Β
]

print("Αποτελέσματα μετρήσεων αρτηριακής πίεσης:")
print(f"{'Ομάδα':<15}{'Ημέρα':<15}{'Τιμή (mmHg)':<15}")
print(f"{'-'*15}{'-'*15}{'-'*15}")

for i, ομάδα in enumerate(ομάδες):
    μέσος_όρος_ομάδας = 0

    for j, ημέρα in enumerate(ημέρες):
        τιμή = τιμές_πίεσης[i][j]
        μέσος_όρος_ομάδας += τιμή
        print(f"{ομάδα:<15}{ημέρα:<15}{τιμή:<15}")

    μέσος_όρος_ομάδας /= len(ημέρες)
    print(f"{ομάδα:<15}{'ΜΕΣΟΣ ΟΡΟΣ':<15}{μέσος_όρος_ομάδας:<15.2f}")
    print(f"{'-'*45}")
```

> 😓 **Συναισθηματική συμβουλή:** Οι ένθετοι βρόχοι μπορεί να σας φαίνονται τρομακτικοί στην αρχή! Είναι φυσιολογικό να αισθάνεστε λίγο χαμένοι.
> Σκεφτείτε τους σαν τα επίπεδα οργάνωσης ενός πειράματος: κάθε εξωτερικός βρόχος είναι μια "ομάδα θεραπείας" και κάθε εσωτερικός βρόχος είναι μια "επανάληψη μέτρησης".
> Με την εξάσκηση, θα γίνουν ένα πολύτιμο εργαλείο για την οργάνωση πολύπλοκων δεδομένων!

### 1.5.5 Κατανόηση Λιστών (List Comprehensions)

Οι κατανοήσεις λιστών είναι ένας σύντομος τρόπος για τη δημιουργία νέων λιστών από υπάρχουσες.

```python
# Μετατροπή θερμοκρασιών από Κελσίου σε Φαρενάιτ
θερμοκρασίες_C = [36.5, 37.0, 37.5, 38.2, 36.9, 37.3]

# Με συμβατικό βρόχο for
θερμοκρασίες_F = []
for θερμοκρασία in θερμοκρασίες_C:
    θερμοκρασίες_F.append(θερμοκρασία * 9/5 + 32)

# Με κατανόηση λίστας
θερμοκρασίες_F = [θερμοκρασία * 9/5 + 32 for θερμοκρασία in θερμοκρασίες_C]

print("Μετατροπή θερμοκρασιών από °C σε °F:")
for c, f in zip(θερμοκρασίες_C, θερμοκρασίες_F):
    print(f"{c:>6.1f}°C = {f:>6.1f}°F")

# Κατανόηση λίστας με συνθήκη
θερμοκρασίες_πυρετού = [temp for temp in θερμοκρασίες_C if temp > 37.0]
print(f"\nΘερμοκρασίες πυρετού: {θερμοκρασίες_πυρετού}")
```

**Παράδειγμα από την έρευνα:** Σε μια περιβαλλοντική μελέτη, οι κατανοήσεις λιστών μπορούν να χρησιμοποιηθούν για να μετατρέψετε γρήγορα μονάδες μέτρησης (π.χ. από °C σε °F), να φιλτράρετε μετρήσεις που υπερβαίνουν συγκεκριμένα κατώφλια, ή να κανονικοποιήσετε τιμές από διαφορετικούς αισθητήρες.

## 1.6 Πρακτικές Ασκήσεις για Ερευνητές

### Άσκηση 1: Ανάλυση Δεδομένων Ασθενών

Δημιουργήστε ένα πρόγραμμα που:

1. Δέχεται δεδομένα για 5 ασθενείς (όνομα, ηλικία, βάρος, ύψος)
2. Υπολογίζει το BMI για κάθε ασθενή
3. Κατηγοριοποιεί τους ασθενείς βάσει του BMI τους
4. Εμφανίζει μια συνοπτική αναφορά

### Άσκηση 2: Ανάλυση Περιβαλλοντικών Μετρήσεων

Γράψτε ένα πρόγραμμα που:

1. Περιέχει λίστες με μετρήσεις θερμοκρασίας, υγρασίας και CO2 για 7 ημέρες
2. Υπολογίζει μέσους όρους, ελάχιστες και μέγιστες τιμές
3. Εντοπίζει ημέρες που ξεπέρασαν συγκεκριμένα όρια σε οποιαδήποτε μέτρηση
4. Παράγει μια περίληψη των
